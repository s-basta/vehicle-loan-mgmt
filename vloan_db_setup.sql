DROP TABLE `vloanuser`;
DROP TABLE `vloanvehicle`;
DROP TABLE `vloanapplicant`;
DROP TABLE `vloanacceptedloan`;
DROP TABLE `vloanemistatus`;
	
CREATE TABLE `vloanuser` (
  `userId` INT NOT NULL AUTO_INCREMENT,
  `firstName` VARCHAR(255) NOT NULL,
  `lastName` VARCHAR(255) NOT NULL,
  `dateOfBirth` DATE NOT NULL,
  `gender` ENUM('MALE', 'FEMALE', 'OTHER') NOT NULL,
  `username` VARCHAR(255) NOT NULL,
  `email` VARCHAR(255) NOT NULL,
  `mobile` VARCHAR(20) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `isAdmin` TINYINT(1) NOT NULL,
  `typeOfEmployment` ENUM('SALARIED', 'SELF_EMPLOYED', 'PENSIONER', 'HOUSEWIFE', 'STUDENT') DEFAULT NULL,
  `salary` DECIMAL(15,2) DEFAULT NULL,
  `panCardNumber` VARCHAR(20) DEFAULT NULL,
  `aadharNumber` VARCHAR(20) DEFAULT NULL,
  PRIMARY KEY (`userId`),
  UNIQUE KEY `username` (`username`),
  UNIQUE KEY `email` (`email`)
);

CREATE TABLE `vloanvehicle` (
  `VehicleID` INT NOT NULL AUTO_INCREMENT,
  `VehicleMake` VARCHAR(50) DEFAULT NULL,
  `VehicleModel` VARCHAR(50) DEFAULT NULL,
  `Ex_Showroom_Price` DOUBLE DEFAULT NULL,
  `On_Road_Price` DOUBLE DEFAULT NULL,
  PRIMARY KEY (`VehicleID`)
);

/*Post this just add the correct filepath of the dataset in dao/vehicle/ into dao/vehicle/VehicleDatasetReader.java and run that file as a Java Application.*/

CREATE TABLE `vloanapplicant` (
  `applicationID` INT NOT NULL AUTO_INCREMENT,
  `userID` INT NOT NULL,
  `vehicleMake` VARCHAR(255) NOT NULL,
  `vehicleType` VARCHAR(255) NOT NULL,
  `exShowroomPrice` DECIMAL(10,2) NOT NULL,
  `onRoadPrice` DECIMAL(10,2) NOT NULL,
  `typeOfEmployment` VARCHAR(255) NOT NULL,
  `yearlySalary` DECIMAL(15,2) NOT NULL,
  `existingEMI` DECIMAL(15,2) NOT NULL,
  `mobileNumber` VARCHAR(15) NOT NULL,
  `emailID` VARCHAR(255) NOT NULL,
  `houseNumber` VARCHAR(50) NOT NULL,
  `streetName` VARCHAR(255) NOT NULL,
  `city` VARCHAR(100) NOT NULL,
  `state` VARCHAR(100) NOT NULL,
  `pinCode` VARCHAR(10) NOT NULL,
  `loanAmount` DECIMAL(15,2) NOT NULL,
  `loanTenure` INT NOT NULL,
  `rateOfInterest` DECIMAL(5,2) NOT NULL,
  `loanStatus` ENUM('PENDING', 'APPROVED', 'REJECTED') NOT NULL,
  `applicationDate` DATE NOT NULL,
  PRIMARY KEY (`applicationID`),
  FOREIGN KEY (`userID`) REFERENCES `vloanuser`(`userId`)
);

CREATE TABLE `vloanacceptedloan` (
  `applicationID` INT NOT NULL,
  `emiAmount` DECIMAL(10,2) DEFAULT NULL,
  `totalEMIs` INT DEFAULT NULL,
  `loanStartDate` DATE DEFAULT NULL,
  `loanEndDate` DATE DEFAULT NULL,
  PRIMARY KEY (`applicationID`),
  FOREIGN KEY (`applicationID`) REFERENCES `vloanapplicant`(`applicationID`)
);

CREATE TABLE `vloanemistatus` (
  `statusId` INT NOT NULL AUTO_INCREMENT,
  `applicationId` INT NOT NULL,
  `paymentStatus` ENUM('PENDING', 'COMPLETED') NOT NULL,
  `scheduledPaymentDate` DATE NOT NULL,
  `actualPaymentDate` DATE DEFAULT NULL,
  PRIMARY KEY (`statusId`),
  FOREIGN KEY (`applicationId`) REFERENCES `vloanacceptedloan`(`applicationID`)
);

INSERT INTO `vloanvehicle` (`VehicleMake`, `VehicleType`, `Ex_Showroom_Price`, `On_Road_Price`) VALUES
('Toyota', 'Sedan', 2000000, 2200000),
('Honda', 'SUV', 2500000, 2750000),
('Ford', 'Hatchback', 1500000, 1700000),
('BMW', 'Convertible', 5000000, 5500000),
('Tesla', 'Electric', 4000000, 4300000),
('Toyota', 'SUV', 2200000, 2450000),
('Honda', 'Sedan', 1800000, 2050000),
('Ford', 'Truck', 3000000, 3300000),
('BMW', 'Sedan', 4500000, 4900000),
('Tesla', 'SUV', 3500000, 3750000),
('Toyota', 'Hatchback', 2100000, 2300000),
('Honda', 'SUV', 2600000, 2850000),
('Ford', 'Convertible', 1600000, 1850000),
('BMW', 'Electric', 5200000, 5700000),
('Tesla', 'Sedan', 4200000, 4500000),
('Toyota', 'Truck', 2300000, 2550000),
('Honda', 'Hatchback', 1900000, 2150000),
('Ford', 'SUV', 3100000, 3400000),
('BMW', 'Convertible', 4600000, 5000000),
('Tesla', 'Electric', 3600000, 3850000),
('Toyota', 'Sedan', 2250000, 2450000),
('Honda', 'SUV', 2700000, 2950000),
('Ford', 'Hatchback', 1750000, 1950000),
('BMW', 'Truck', 5500000, 6000000),
('Tesla', 'Convertible', 6000000, 6500000),
('Toyota', 'Electric', 2500000, 2750000),
('Honda', 'Sedan', 2400000, 2650000),
('Ford', 'SUV', 2800000, 3000000),
('BMW', 'Hatchback', 3200000, 3500000),
('Tesla', 'Truck', 4500000, 4800000),
('Toyota', 'Hatchback', 1900000, 2100000),
('Honda', 'Truck', 2250000, 2500000),
('Ford', 'Electric', 3000000, 3250000),
('BMW', 'SUV', 5000000, 5300000),
('Tesla', 'Sedan', 4050000, 4350000),
('Toyota', 'SUV', 2400000, 2650000),
('Honda', 'Convertible', 1850000, 2050000),
('Ford', 'Hatchback', 1700000, 1900000),
('BMW', 'Electric', 5500000, 5900000),
('Tesla', 'Truck', 4700000, 5000000),
('Toyota', 'Convertible', 2650000, 2850000),
('Honda', 'Electric', 2000000, 2200000),
('Ford', 'Sedan', 2200000, 2400000),
('BMW', 'Hatchback', 2700000, 2950000),
('Tesla', 'SUV', 3800000, 4150000),
('Toyota', 'Truck', 2850000, 3050000),
('Honda', 'Hatchback', 2050000, 2250000),
('Ford', 'Convertible', 2900000, 3250000),
('BMW', 'SUV', 4700000, 4900000),
('Tesla', 'Electric', 4050000, 4350000),
('Toyota', 'Sedan', 2400000, 2650000),
('Honda', 'SUV', 3050000, 3300000),
('Ford', 'Hatchback', 1800000, 2000000),
('BMW', 'Convertible', 5300000, 5700000),
('Tesla', 'Truck', 5200000, 5500000),
('Toyota', 'Electric', 2750000, 3050000),
('Honda', 'Sedan', 2550000, 2800000),
('Ford', 'SUV', 3200000, 3400000),
('BMW', 'Hatchback', 3350000, 3550000),
('Tesla', 'Convertible', 6200000, 6800000),
('Toyota', 'Truck', 2950000, 3200000),
('Honda', 'Hatchback', 2150000, 2350000),
('Ford', 'Electric', 3250000, 3400000),
('BMW', 'SUV', 5150000, 5500000),
('Tesla', 'Sedan', 4250000, 4550000),
('Toyota', 'SUV', 2550000, 2800000),
('Honda', 'Convertible', 1950000, 2150000),
('Ford', 'Hatchback', 1850000, 2050000),
('BMW', 'Electric', 5600000, 6100000),
('Tesla', 'Truck', 5400000, 5700000),
('Toyota', 'Convertible', 2750000, 2950000),
('Honda', 'Electric', 2200000, 2350000),
('Ford', 'Sedan', 2350000, 2600000),
('BMW', 'Hatchback', 2950000, 3250000),
('Tesla', 'SUV', 4050000, 4400000),
('Toyota', 'Truck', 3200000, 3400000),
('Honda', 'Hatchback', 2400000, 2550000),
('Ford', 'Convertible', 3100000, 3350000),
('BMW', 'SUV', 5300000, 5500000),
('Tesla', 'Electric', 4100000, 4450000),
('Toyota', 'Sedan', 2550000, 2750000),
('Honda', 'SUV', 3250000, 3500000),
('Ford', 'Hatchback', 2100000, 2250000),
('BMW', 'Convertible', 5700000, 6000000),
('Tesla', 'Truck', 5500000, 5800000);
